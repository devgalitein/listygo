!function(i){"use strict";function t(){i(".doctor-chamber-wrap").find(".doctor-chamber-item").each(function(t,e){i("input, textarea",e).each(function(){var e=i(this);e.attr("name",e.attr("name").replace(/listygo_doctor_chamber\[[^\]]*\]/,"listygo_doctor_chamber["+t+"]")),e.attr("name",e.attr("name").replace(/listygo_chamber_images\[[^\]]*\]/,"listygo_chamber_images["+t+"]"))}),i(".rn-ingredient-item",e).each(function(t,e){i("input, textarea",e).each(function(){var e=i(this);e.attr("name",e.attr("name").replace(/\[chamber_list\]\[[^\]]*\]/,"[chamber_list]["+t+"]"))})})})}i(document).on("click",".doctor-chamber-wrapper .add-chamber",function(e){e.preventDefault();i(this).closest(".doctor-chamber-wrapper").find(".doctor-chamber-wrap").append('<div class="doctor-chamber-item"><span class="rn-remove"><i class="fa fa-times" aria-hidden="true"></i></span><div class="rn-chamber-title"><input type="text" name="listygo_doctor_chamber[][dctitle]" class="form-control" placeholder="Group Title"></div><div class="rn-ingredient-wrap"><div class="rn-ingredient-item"><div class="rn-ingredient-fields"><input name="listygo_doctor_chamber[][chamber_list][][chamber]" type="text" placeholder="Chamber" class="form-control"><input name="listygo_doctor_chamber[][chamber_list][][timeSchedule]" type="text" placeholder="Schedule" class="form-control"><textarea name="listygo_doctor_chamber[][chamber_list][][description]" placeholder="Description" class="form-control"></textarea><div class="chamber-image-wrap"><div class="floor-input-wrapper"><input name="listygo_chamber_images[][chamber_list][]" class="listygo-chamber-image" type="file"/></div></div></div><span class="rn-remove"><i class="fa fa-times" aria-hidden="true"></i></span></div></div><div class="rn-ingredient-actions"><a href="javascript:void()" class="btn-upload add-ingredient btn-sm btn-primary">Add Chamber</a></div></div>'),t()}),i(document).on("click",".doctor-chamber-item > .rn-remove",function(e){e.preventDefault();e=i(this);0<=e.closest(".doctor-chamber-wrapper").find(".doctor-chamber-item").length?e.closest(".doctor-chamber-item").slideUp("slow",function(){i(this).remove(),t()}):alert("You are not permited to remove all chamber")}),i(document).on("click",".doctor-chamber-item .add-ingredient",function(e){e.preventDefault();i(this).closest(".doctor-chamber-item").find(".rn-ingredient-wrap").append('<div class="rn-ingredient-item"><div class="rn-ingredient-fields"><input name="listygo_doctor_chamber[][chamber_list][][chamber]" type="text" placeholder="Chamber" class="form-control"><input name="listygo_doctor_chamber[][chamber_list][][timeSchedule]" type="text" placeholder="Schedule" class="form-control"><textarea name="listygo_doctor_chamber[][chamber_list][][description]" placeholder="Description" class="form-control"></textarea><div class="chamber-image-wrap"><div class="floor-input-wrapper"><input name="listygo_chamber_images[][chamber_list][]" class="listygo-chamber-image" type="file"/></div></div></div><span class="rn-remove"><i class="fa fa-times" aria-hidden="true"></i></span></div>'),t()}),i(document).on("click",".rn-ingredient-item .rn-remove",function(e){e.preventDefault();e=i(this);0<=e.closest(".rn-ingredient-wrap").find(".rn-ingredient-item").length?e.closest(".rn-ingredient-item").slideUp("slow",function(){i(this).remove(),t()}):alert("You are not permited to remove all ingradient")}),i(".remove-chamber-image a").on("click",function(e){e.preventDefault();var e=i(this).data("attachment_id"),t=i(this).data("post_id");let a=i(this).parents(".chamber-image"),r=i(".chamber-input-wrapper");confirm("Are you want to delete this attachment?")&&i.ajax({type:"post",url:rtcl.ajaxurl,data:{action:"delete_chamber_attachment",attachment_id:e,post_id:t},success:function(e){"success"===e&&a.fadeOut(function(){a.remove(),r.toggleClass("d-none")})}})})}(jQuery);